<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    .wapper {
      height: 200px;
      background-color: pink;
      overflow: hidden;
    }
  </style>
</head>

<body>
  <div>
    <div class="wapper">
      <ul class="content">
        <li>数据1</li>
        <li>数据2</li>
        <li>数据3</li>
        <li>数据4</li>
        <li>数据5</li>
        <li>数据6</li>
        <li>数据7</li>
        <li>数据8</li>
        <li>数据9</li>
        <li>数据10</li>
        <li>数据11</li>
        <li>数据12</li>
        <li>数据13</li>
        <li>数据14</li>
        <li>数据15</li>
        <li>数据16</li>
        <li>数据17</li>
        <li>数据18</li>
        <li>数据19</li>
        <li>数据20</li>
        <li>数据21</li>
        <li>数据22</li>
        <li>数据23</li>
        <li>数据24</li>
        <li>数据25</li>
        <li>数据26</li>
        <li>数据27</li>
        <li>数据28</li>
        <li>数据29</li>
        <li>数据30</li>
        <li>数据31</li>
        <li>数据32</li>
        <li>数据33</li>
        <li>数据34</li>
        <li>数据35</li>
        <li>数据36</li>
        <li>数据37</li>
        <li>数据38</li>
        <li>数据39</li>
        <li>数据40</li>
        <li>数据41</li>
        <li>数据42</li>
        <li>数据43</li>
        <li>数据44</li>
        <li>数据45</li>
        <li>数据46</li>
        <li>数据47</li>
        <li>数据48</li>
        <li>数据49</li>
        <li>数据50</li>
      </ul>
    </div>
  </div>

  <script src="https://unpkg.com/better-scroll@latest/dist/better-scroll.js"></script>
  <script>
    //probeType 加上此属性。监听滚动的回调函数才会执行
    //值  1 不监听
    //    2 监听手指的滚动，惯性滚动不监听
    //    3  只要是滚动都监听


    let bs = BetterScroll.createBScroll(".wapper", {
      probeType: 3,
      pullUpLoad: true

    })

    //滚动事件，position包含了xy坐标
    bs.on("scroll", function (position) {
      // console.log(position);
    })

    //下拉到底部事件
    bs.on('pullingUp', () => {
      console.log("我是底部");
      
      //.......获取数据，把数据放到data

      //下拉到底部事件只会执行一次，下面这个方法代表事情做完了，然后下拉到底部事件会再次执行
      bs.finishPullUp();
    })
  </script>
</body>

</html>